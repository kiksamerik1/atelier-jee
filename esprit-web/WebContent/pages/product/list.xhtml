<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets">
                	
	<h:form id="list_prod_form">
		
		<h:dataTable id="prod_table"  rendered="#{not empty productBean.products}" value="#{productBean.products}" var="prod" border="1">
			<f:facet name="header">
				<h:outputText value="all products" />
			</f:facet>
			<h:column id="id_col">
				<f:facet name="header">
				<h:outputText value="#" />
			</f:facet>
			<h:outputText value="#{prod.id}" />
			</h:column>
			<h:column id="name_col">
				<f:facet name="header">
				<h:outputText value="name" />
			</f:facet>
			<h:outputText value="#{prod.name}" />
			</h:column>
			<h:column id="unit_cost_col">
				<f:facet name="header">
				<h:outputText value="unit cost" />
			</f:facet>
			<h:outputText value="#{prod.unitCost}" />
			</h:column>
			<h:column id="category_col_col">
				<f:facet name="header">
				<h:outputText value="category" />
			</f:facet>
			<h:outputText value="#{prod.category.name}" />
			</h:column>
			<h:column id="action_col">
				<f:facet name="header">
				<h:outputText value="action" />
			</f:facet>
			<!-- actions to go here -->
			<h:commandButton value="select" >
				<f:setPropertyActionListener target="#{productBean.product}" value="#{prod}"/>
				<f:setPropertyActionListener target="#{productBean.formDisplayed}" value="true"/>
				</h:commandButton>				
			</h:column>
		</h:dataTable>
		<h:commandButton value="new.." >
			<f:setPropertyActionListener target="#{productBean.formDisplayed}" value="true"/>
		</h:commandButton>
	</h:form>
</ui:composition>